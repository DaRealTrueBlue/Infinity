<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinity Browser</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Boot Animation -->
    <div class="boot-screen" id="boot-screen">
        <div class="boot-content">
            <video class="boot-logo-video" autoplay muted loop playsinline>
                <source src="animatedlogo.webm" type="video/webm">
                <source src="animatedlogo.mp4" type="video/mp4">
            </video>
            <div class="boot-loader">
                <div class="boot-loader-bar"></div>
            </div>
        </div>
    </div>

    <div class="browser-container">
        <!-- Top Navigation Bar -->
        <div class="navbar">
            <div class="nav-controls">
                <button id="back-btn" class="nav-btn" title="Back">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                </button>
                <button id="forward-btn" class="nav-btn" title="Forward">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </button>
                <button id="refresh-btn" class="nav-btn" title="Refresh">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                    </svg>
                </button>
                <button id="home-btn" class="nav-btn" title="Home">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9 22 9 12 15 12 15 22"/>
                    </svg>
                </button>
            </div>

            <div class="url-bar-container">
                <input type="text" id="url-bar" placeholder="Search or enter web address" />
                <button id="bookmark-star-btn" class="star-btn" title="Bookmark this page (Ctrl+D)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                </button>
            </div>

            <div class="browser-controls">
                <button id="new-tab-btn" class="control-btn" title="New Tab">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                </button>
                <button id="bookmarks-btn" class="control-btn" title="Bookmarks">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                    </svg>
                </button>
                <button id="menu-btn" class="control-btn" title="Menu">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Tabs Bar -->
        <div class="tabs-bar" id="tabs-bar">
            <!-- Tabs will be added dynamically -->
        </div>

        <!-- Bookmarks Bar -->
        <div class="bookmarks-bar" id="bookmarks-bar" style="display: none;">
            <div class="bookmark-items">
                <!-- Bookmarks will be added here dynamically -->
            </div>
        </div>

        <!-- Browser View -->
        <div class="browser-view">
            <div class="loading-bar" id="loading-bar"></div>
            <div class="webview-container" id="webview-container">
                <webview id="webview" src="about:blank"></webview>
            </div>
            
            <!-- Home Page -->
            <div class="home-page" id="home-page">
                <div class="home-content">
                    <h1 class="browser-logo"><ion-icon name="infinite-outline"></ion-icon></h1>
                    <h2>Infinity Browser</h2>
                    <div class="search-container">
                        <input type="text" id="home-search" placeholder="Search the web or enter a URL" />
                    </div>
                    <div class="quick-links-header">
                        <h3>Quick Links</h3>
                        <button id="add-quick-link-btn" class="add-link-btn" title="Add Quick Link">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                    <div class="quick-links" id="quick-links">
                        <!-- Quick links will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar" id="status-bar">
            <span class="status-text" id="status-text">Ready</span>
            <span class="status-right">
                <span id="download-status" style="display: none;">Downloading...</span>
                <span id="page-info"></span>
            </span>
        </div>

        <!-- Download Manager Modal -->
        <div class="modal" id="download-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Downloads</h3>
                    <button class="modal-close" id="close-download-modal">×</button>
                </div>
                <div class="modal-body" id="download-list">
                    <p style="color: #888; text-align: center; padding: 20px;">No downloads yet</p>
                </div>
            </div>
        </div>

        <!-- History Modal -->
        <div class="modal" id="history-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Browsing History</h3>
                    <button class="modal-close" id="close-history-modal">×</button>
                </div>
                <div class="modal-body" id="history-list">
                    <p style="color: #888; text-align: center; padding: 20px;">No history yet</p>
                </div>
            </div>
        </div>

        <!-- Add Quick Link Modal -->
        <div class="modal" id="add-quick-link-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Quick Link</h3>
                    <button class="modal-close" id="close-add-link-modal">×</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="quick-link-name">Name:</label>
                        <input type="text" id="quick-link-name" class="form-input" placeholder="e.g., Reddit" />
                    </div>
                    <div class="form-group">
                        <label for="quick-link-url">URL:</label>
                        <input type="text" id="quick-link-url" class="form-input" placeholder="e.g., reddit.com" />
                    </div>
                    <div class="modal-actions">
                        <button id="cancel-add-link" class="modal-btn modal-btn-secondary">Cancel</button>
                        <button id="save-add-link" class="modal-btn modal-btn-primary">Add</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Context Menu -->
        <div class="context-menu" id="context-menu" style="display: none;">
            <div class="context-menu-item" id="menu-new-tab">New Tab</div>
            <div class="context-menu-item" id="menu-downloads">Downloads</div>
            <div class="context-menu-item" id="menu-history">History</div>
            <div class="context-menu-item" id="menu-settings">Settings</div>
            <div class="context-menu-divider"></div>
            <div class="context-menu-item" id="menu-about">About Infinity</div>
        </div>
    </div>

    <script src="renderer.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
